<div class="heading">
    <div>
        <h5>Manage Items</h5>
        <p class="text-muted">Lorem ipsum dolor sit amet consectetur adipisicing elit. Recusandae.</p>
    </div>
    <div class="btn btn-sm btn-primary" (click)="openItemForm()">New Item</div>
</div>

<!-- <div class="item-grid mt-4">
    <div class="item-card" *ngFor="let item of ItemList">
        <img src="../../../assets/images/products/Catelogue_240805_234540.pdf-image-016.jpg" alt="Item 1" class="item-image">
        <div class="item-details">
            <h2 class="item-name">{{item.iName}}</h2>
            <p class="item-category">{{item.iType}}</p>
            <p class="item-price">{{item.mrpPrinted}} 1000$</p>
        </div>
    </div>
</div> -->


<div class="row row-cols-1 row-cols-md-2 row-cols-lg-3 row-cols-xl-5 g-4 mt-1" style="overflow-y: scroll; height: 85vh;">
    <div class="col" *ngFor="let item of ItemList">
        <div class="itemCard" >
            <div class="product-grid text-start">
                <div class="product-image"><span class="image"><img
                            src="../../../assets/images/products/Catelogue_240805_234540.pdf-image-049.jpg"
                            class="pic-1"></span>
                </div>
                <div class="product-content"><span class="category"><a>Roasted Crispies</a></span>
                    <h3 class="title"><a >{{item.iName}}</a></h3>
                    <div class="d-flex justify-content-between align-item-center">
                        <div class="price">{{item.mrpPrinted}}</div>
                    </div>
                </div>
                <div class="d-flex align-item-center gap-2 p-2">
                    <button class="btn btn-sm secondary-btn-outline text-success w-100"> <i class="bi bi-pen"></i> Edit </button>
                    <button class="btn btn-sm secondary-btn-outline text-danger w-100"> <i class="bi bi-trash"></i> Delete </button>
                </div>
            </div>
        </div>
    </div>
    <div class="col">
        <div class="itemCard">
            <div class="product-grid text-start">
                <div class="product-image"><span class="image"><img
                            src="../../../assets/images/products/Catelogue_240805_234540.pdf-image-049.jpg"
                            class="pic-1"></span>
                </div>
                <div class="product-content"><span class="category"><a>Roasted Crispies</a></span>
                    <h3 class="title"><a >Sandalwood Saffron Face Wash (35 ML)</a></h3>
                    <div class="d-flex justify-content-between align-item-center">
                        <div class="price">â‚¹258.11</div>
                    </div>
                </div>
                <div class="d-flex align-item-center gap-2 p-2">
                    <button class="btn btn-sm  btn-outline-primary w-100"> <i class="bi bi-pen"></i> Edit </button>
                    <button class="btn btn-sm  btn-outline-secondary w-100"> <i class="bi bi-trash"></i> Delete </button>
                </div>
            </div>
        </div>
    </div>

</div>


<ng-template #itemForm>
    <div class="modal-header">
        <h6 class="modal-title font-weight-600">Add New Item</h6>
        <button type="button" class="btn-close" (click)="addItemModal.close()"></button>
    </div>
    <div class="modal-body">
        <form [formGroup]="ItemForm">
            <div class="row">
                <div class="col-md-6">
                    <div class="form-group">
                        <label for="iName">Item Name</label>
                        <input class="form-control form-control-sm" type="text" id="iName" formControlName="iName" >
                        <div class="text-danger"
                        *ngIf="(ItemForm.get('iName')?.touched && ItemForm.get('iName')?.invalid )">
                        <ng-container *ngIf="ItemForm.get('iName')?.errors">
                          <ng-container *ngIf="ItemForm.get('iName')?.errors?.['required']">Input field is
                            required</ng-container>
                          <ng-container
                            *ngIf="!ItemForm.get('iName')?.errors?.['required'] && ItemForm.get('iName')?.errors?.['whitespace']">No
                            empty spaces allowed</ng-container>
                          <ng-container
                            *ngIf="!ItemForm.get('iName')?.errors?.['required'] && !ItemForm.get('iName')?.errors?.['whitespace'] && ItemForm.get('iName')?.errors?.['minlength']">Minimum
                            characters required</ng-container>
                        </ng-container>
                      </div>
                    </div>
                </div>
                <div class="col-md-6">
                    <div class="form-group">
                        <label for="iCode">Item Code</label>
                        <input class="form-control form-control-sm" type="text" id="iCode" formControlName="iCode" >
                    </div>
                </div>
            </div>
            <div class="row">
                <div class="col-md-6">
                    <div class="form-group">
                        <label for="brand">Brand</label>
                        <select class="form-select form-select-sm" formControlName="brandId" (change)="onBrancChange()">
                            <option [ngValue]="0">Select Brand</option>
                            <option [ngValue]="brand.brandId" *ngFor="let brand of BrandList">{{brand.bName}}</option>
                            <!-- Add more options as needed -->
                        </select>
                    </div>
                </div>
                <div class="col-md-6">
                    <div class="form-group">
                        <label for="packaging">Packaging</label>
                        <select id="packaging" name="packaging" class="form-select form-select-sm" formControlName="packingId">
                            <option [ngValue]="0">Select Packaging</option>
                            <option [ngValue]="1">Box</option>
                            <option [ngValue]="2">Bag</option>
                            <option [ngValue]="3">Bottle</option>
                            <!-- Add more options as needed -->
                        </select>
                    </div>
                </div>
            </div>
         
            <div class="row">
                <div class="col-md-12">
                    <div class="form-group">
                        <label for="iDesc">Item Description</label>
                        <textarea id="iDesc"  rows="6" class="form-control form-control-sm" formControlName="iDesc"></textarea>
                    </div>
                </div>
            </div>
            <div class="row">
                <div class="col-md-6">
                    <div class="form-group">
                        <label for="iType">Item Type</label>
                        <input class="form-control form-control-sm"  id="iType" formControlName="iType" >
                    </div>
                </div>
                <div class="col-md-6">
                    <div class="form-group">
                        <label for="iSize">Item Size</label>
                        <input class="form-control form-control-sm" id="iSize" formControlName="iSize" >
                    </div>
                </div>
            </div>
            <div class="row">

                <div class="col-md-6">
                    <div class="form-group">
                        <label for="mrp">MRP Printed</label>
                        <input class="form-control form-control-sm" id="mrp" formControlName="mrpPrinted" >
                    </div>
                </div>
                <div class="col-md-6">
                    <div class="form-group">
                        <label for="moq">Minimum Order Quantity (MOQ)</label>
                        <input class="form-control form-control-sm" type="number" id="moq" formControlName="moq" >
                    </div>
                </div>
            </div>
        </form>
    </div>
    <div class="modal-footer text-end">
        <button class="btn btn-sm secondary-btn me-2" (click)="addItemModal.close()">Close</button>
        <button class="btn btn-sm primary-btn" (click)="submitItemForm()">Submit</button>
      </div>
</ng-template>